---
import { getCollection } from 'astro:content';
import BaseLayout from '../../layouts/BaseLayout.astro';
import PostCard from '../../components/PostCard.astro';

const posts = (await getCollection('invest'))
  .sort((a, b) => new Date(b.data.publishedAt).getTime() - new Date(a.data.publishedAt).getTime());
---

<BaseLayout title="Invest" description="Markets, money, and long-term wealth building.">
  <header class="mb-8">
    <h1
      class="text-4xl mb-2"
      style="font-family: var(--font-heading); color: var(--color-invest);"
    >
      Invest
    </h1>
    <p style="color: var(--color-ink-light);">
      Markets, money, and long-term wealth building.
    </p>
  </header>

  {posts.length > 0 ? (
    <ul class="list-none m-0 p-0">
      {posts.map((post) => (
        <PostCard
          title={post.data.title}
          href={`/invest/${post.data.slug}`}
          pillar="invest"
          publishedAt={post.data.publishedAt.toISOString()}
          showPillarTag={false}
        />
      ))}
    </ul>
  ) : (
    <p style="color: var(--color-ink-muted);">No posts yet.</p>
  )}
</BaseLayout>
